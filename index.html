<!DOCTYPE html>
<html lang="es-ES">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Grade Calc</title>
  <meta name="description" content="GradeCalc es aplicaci√≥n web para calcular la nota que necesitas en cada examen para aprobar una asignatura. Originalmente hecha para la FIB, Facultad de Inform√†tica de Barcelona">
  <link href="https://fonts.googleapis.com/css?family=Nunito:300,400,700" rel="stylesheet">
  <link href="style.css" rel="stylesheet" type="text/css">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="manifest" href="site.webmanifest">

  <!-- SEO -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320"/>
  <link rel="canonical" href="https://gradecalc.net">

  <!-- FavIcons -->
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
  <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#1b9f64">
  <link rel="shortcut icon" href="icons/favicon.ico">
  <meta name="apple-mobile-web-app-title" content="Grade Calc">
  <meta name="application-name" content="Grade Calc">
  <meta name="msapplication-TileColor" content="#1b9f64">
  <meta name="msapplication-config" content="icons/browserconfig.xml">
  <meta name="theme-color" content="#1b9f64">

</head>
<body>
  <header id="top-bar">
    <button onclick="showUserInfo(); window.history.pushState({popup: 'user'}, 'Perfil', '#user');" style="padding: 0.625em;"><img src="media/user-circle.svg" alt="Perfil" id="profile-topbar"></button>
    <h1>Grade Calc</h1>
    <button onclick="popupShow('add-container'); window.history.pushState({popup: 'add'}, 'A√±ade una asignatura', '#add');" class="focus-animation-loop" id="add-button-topbar"><img src="media/plus.svg" alt="Editar"></button>
  </header>

  <main class="screen">
    <div id="dashboard" class="dashboard"></div>
    <div id="dashboard-loader" class="loader">
      <div class="loader-dots"><div></div><div></div><div></div><div></div></div>
      <p>Cargando tus asignaturas</p>
    </div>
    <div id="tutorial">
      <h2>üôãüèº‚Äç‚ôÇÔ∏è Bienvenido üôãüèº‚Äç‚ôÄÔ∏è</h2>
      <p>Grade Calc es una aplicaci√≥n web que te permite administrar tus notas de ex√°menes.</p>
      <h3>Funciones:</h3>
      <ul>
        <li>- Calcula autom√°ticamente la nota que necesitas para aprobar</li>
        <li>- Crea tus asignaturas y comp√°rtelas. <i>Pr√≥ximamente</i></li>
        <li>- Busca y usa asignaturas ya hechas. <i>Pr√≥ximamente</i></li>
        <li>- Guarda tus notas en el dispositivo automaticamente.</li>
        <li>- "A√±adir a inicio" en Android.</li>
        <li>- Inicia sesi√≥n con Google y guarda tus notas en la nube.</li>
        <li>M√°s pr√≥ximamente ...</li>
      </ul>
      <br>
      <p><i>Venga, a√±ade tu primera asignatura con el bot√≥n "+" de arriba a la derecha.</i></p>
      <p>Una vez creada, t√≥cala para editar tus notas</p>
    </div>
    <a href="https://youtu.be/1Bix44C1EzY" target="_blank" id="congratulations-img" style="display: none">
      <img data-src="media/congratulations.gif" alt="¬°Felicidades!">
    </a>
  </main>

  <div id="add-container" class="popup" style="display: none;">
    <div onclick="popupHide(this.parentNode); window.history.back();" class="top-bar-popup"><img src="media/back.svg" alt="Go back">Nueva asignatura</div>
    <div class="popup-content add-popup">
      <div id="add-popup-content">
        <h2>Buscar</h2>
        <input type="search" name="search-subject" id="search-subject-input" placeholder="Matem√°ticas UPC FIB">
        <label for="search-subject-input">Puedes buscar por: siglas, nombre, universidad y facultad.</label>
        <h3>Resultados</h3>
        <ul id="subjects-search-results">
          <li><input type="checkbox" name="AC" id="checkbox-EfFfxjAZUyF8BjRTRXXm"><label for="checkbox-EfFfxjAZUyF8BjRTRXXm">AC</label></li>
          <li><input type="checkbox" name="IES" id="checkbox-Bfs5XE0A5WdzfnqL8x3r"><label for="checkbox-Bfs5XE0A5WdzfnqL8x3r">IES</label></li>
          <li><input type="checkbox" name="IDI" id="checkbox-g4BNzlqHUlMpRA5sRJfg"><label for="checkbox-g4BNzlqHUlMpRA5sRJfg">IDI</label></li>
          <li><input type="checkbox" name="XC" id="checkbox-Fj08okgYD1tZk3GNZsSl"><label for="checkbox-Fj08okgYD1tZk3GNZsSl">XC</label></li>
          <li><input type="checkbox" name="EEE" id="checkbox-zZ7fHtVnUeYMYEoMNuv1"><label for="checkbox-zZ7fHtVnUeYMYEoMNuv1">EEE</label></li>
          <li><input type="checkbox" name="BD" id="checkbox-fDTb37Ui07sGNUkTVvDu"><label for="checkbox-fDTb37Ui07sGNUkTVvDu">BD</label></li>
          <li><input type="checkbox" name="CI" id="checkbox-KDTapdFduaPFxUMlUGRJ"><label for="checkbox-KDTapdFduaPFxUMlUGRJ">CI</label></li>
          <li><input type="checkbox" name="EDA" id="checkbox-14O7zocpbCBa943DZEeQ"><label for="checkbox-14O7zocpbCBa943DZEeQ">EDA</label></li>
          <li><input type="checkbox" name="PE" id="checkbox-3ES9n8Qhtoe3mAdYnWMO"><label for="checkbox-3ES9n8Qhtoe3mAdYnWMO">PE</label></li>
          <li><input type="checkbox" name="SO" id="checkbox-AdK85VBBzMm99sCXmBWK"><label for="checkbox-AdK85VBBzMm99sCXmBWK">SO</label></li>
        </ul>
      </div>
      <div id="add-popup-content2">
        <!-- <h2>Crear</h2> -->
        <p>¬øNo la encuentras o ninguna est√° bien?</p>
        <button id="subject-start-creator">Crear</button>
        <p>Evita contenido duplicado; si ya existe la asignatura que buscas, no la crees. <small>plis</small></p>
        <textarea hidden name="" id="create-subject-text" placeholder="JSON of new subject. (this is for testing)"></textarea>
      </div>
      <button onclick="addSubjects();">A√±adir</button>
    </div>
  </div>

  <div id="creator-container" class="popup" style="display: none;">
    <div onclick="popupHide(this.parentNode); window.history.back();"></div>
  </div>

  <div id="user-container" class="popup popup-small" style="display: none;">
    <div onclick="popupHide(this.parentNode); window.history.back();"></div>
    <div class="popup-content user-popup">
      <img class="popup-round-img-top" src="media/profile-pic.jpg" alt="Profile Picture">
      <h2>An√≥nimo</h2>
      <div>
        <p>Puedes <b>iniciar sesion con Google</b> y:</p>
        <ul>
          <li>Guardar tus notas en la nube.</li>
          <li>Compartir asignaturas que crees.</li>
        </ul>
      </div>
      <div id="login-loader" class="loader">
        <div class="divider"></div>
        <div class="loader-dots"><div></div><div></div><div></div><div></div></div>
        <p>Cargando tus asignaturas</p>
      </div>
      <button id="loginButton" onclick="loginGoogle(); popupHide(this.parentNode.parentNode); window.history.back();">Iniciar sesi√≥n</button>
    </div>
  </div>
  <div id="toast" style="display: none;"><div><p>Has borrado <b>NADA</b></p><button onclick="undoRemoveSubject();">Deshacer</button></div></div>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js')
      .then(function(registration) {
        console.log('Registration successful, scope is:', registration.scope);
      })
      .catch(function(error) {
        console.log('Service worker registration failed, error:', error);
      });
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
  <script src="algebra-0.2.6.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-firestore.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyDQmE1YoLWHMJ0td05JiHd-0yIW2mvJojc",
      authDomain: "gradecalc-2018.firebaseapp.com",
      databaseURL: "https://gradecalc-2018.firebaseio.com",
      projectId: "gradecalc-2018",
      storageBucket: "gradecalc-2018.appspot.com",
      messagingSenderId: "353677026446"
    };
    firebase.initializeApp(config);
  </script>
  <script src="script.js"></script>
  <script>
    [].forEach.call(document.querySelectorAll('img[data-src]'),    function(img) {
      img.setAttribute('src', img.getAttribute('data-src'));
      img.onload = function() {
        img.removeAttribute('data-src');
      };
    });
  </script>
</body>
</html>